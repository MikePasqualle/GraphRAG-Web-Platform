# Вимоги та функціональність

## Функціональні вимоги

### 1. Завантаження та обробка файлів
- **FR-01**: Користувач може завантажити файли (TXT, PDF, DOCX)
- **FR-02**: Система автоматично запускає індексацію завантажених файлів
- **FR-03**: Відображення статусу індексації в реальному часі
- **FR-04**: Збереження метаданих файлів (назва, розмір, дата завантаження)

### 2. Візуалізація результатів індексації
- **FR-05**: Відображення чанків тексту у табличному вигляді
- **FR-06**: Показ витягнутих сутностей з їх типами
- **FR-07**: Відображення зв'язків між сутностями
- **FR-08**: Інтерактивна візуалізація графа знань

### 3. Чат-функціональність
- **FR-09**: Чат-інтерфейс з вибором режиму (local/global)
- **FR-10**: Streaming відповідей у реальному часі
- **FR-11**: Історія чату з можливістю очищення
- **FR-12**: Відображення джерел інформації в відповідях

### 4. Управління даними
- **FR-13**: Перегляд списку всіх завантажених файлів
- **FR-14**: Видалення файлів та їх індексів
- **FR-15**: Експорт даних графа в JSON формат

## Нефункціональні вимоги

### Продуктивність
- **NFR-01**: Час відповіді API не більше 2 секунд для простих запитів
- **NFR-02**: Підтримка файлів розміром до 100 МБ
- **NFR-03**: Одночасна обробка до 5 файлів

### Безпека
- **NFR-04**: Валідація завантажуваних файлів
- **NFR-05**: Обмеження розміру файлів
- **NFR-06**: Захист API endpoints від зловживань

### Масштабованість
- **NFR-07**: Можливість додавання нових типів файлів
- **NFR-08**: Модульна архітектура для легкого розширення

## Бізнес-правила

### BR-01: Обмеження файлів
- Максимальний розмір файлу: 100 МБ
- Підтримувані формати: TXT, PDF, DOCX
- Максимум 50 файлів на користувача

### BR-02: Індексація
- Автоматичний запуск індексації після завантаження
- Збереження результатів індексації на диску
- Можливість переіндексації існуючих файлів

### BR-03: Чат
- Максимум 100 повідомлень в історії чату
- Timeout для запитів - 30 секунд
- Автоматичне очищення старих сесій

## Особливі випадки

### Обробка помилок
- Некоректні формати файлів
- Перевищення ліміту розміру
- Помилки OpenAI API
- Недоступність GraphRAG

### Відновлення після збоїв
- Збереження прогресу індексації
- Відновлення незавершених завдань
- Резервне копіювання метаданих
